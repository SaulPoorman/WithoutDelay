/** 
 ******************************************************************************
 * @file			: Tick.cpp
 * @version			: V0.0.1
 * @date			: 2022.06.12
 * @author			: saul.poorman@gmail.com
 ******************************************************************************
 *
 *
 *
 ******************************************************************************
 */

/* Predefined Or Compiler Option ---------------------------------------------*/
/* Includes ------------------------------------------------------------------*/
#include "Common.h"

/* Private Typedef -----------------------------------------------------------*/
/* Private Prototype ---------------------------------------------------------*/
/* Private Define ------------------------------------------------------------*/
/* Private Enum --------------------------------------------------------------*/
/* Private Marco -------------------------------------------------------------*/
/* Private Variable ----------------------------------------------------------*/
/* Public Variable -----------------------------------------------------------*/
/* Import Variable -----------------------------------------------------------*/
/* Import Function -----------------------------------------------------------*/
/* Private Function ----------------------------------------------------------*/
/**
  * @brief	
  * @note	
  * @param	
  * @retval	
  * @return	
  */ 
  
/* Public Function -----------------------------------------------------------*/
bool TickIsTimeout(tick_t endTick)
{
	tick_t currentTick;
	
	currentTick = micros();;
	return ((bool)(((signed long)(currentTick-endTick)) >= 0));
}

void Sleep(tick_t _ms)
{
	tick_t endTick = 0;
	tick_t currentTick = 0;

	endTick = micros();;
	endTick += _ms;

	while(1)
	{
		currentTick = micros();;
		if(((signed long)(currentTick - endTick))>=0)
		{
			return;
		}
	}
}
